---
import { getCollection } from 'astro:content';

import AppLayout from '@/layouts/app-layout.astro';
import PostCard from '@/components/blog/post-card.astro';

import { config } from '@/utils/config';
import { availableCollections } from '@/content/config';

const { title, description} = config;

const posts = (await getCollection(availableCollections.blog))
  .sort((a, b) => b.data.publishedAt.valueOf() - a.data.publishedAt.valueOf());
---
<AppLayout head={{ title, description }}>
  <div class="mx-auto max-w-screen-lg px-3 py-6">
    <div class="text-center">
      <h1 class="text-3xl font-bold">Random title here</h1>
      <div class="mt-3 text-gray-200">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
      </div>
    </div>
  </div>
  
  <div class="mx-auto max-w-screen-lg px-3 py-6">
    <div class="grid grid-cols-1 gap-6 md:grid-cols-3">
      {posts.map(post => <PostCard post={post} />)}
    </div>
  </div>
  
  <div class="mx-auto max-w-screen-lg px-3 py-6">
    <div class="flex justify-center gap-8">
      <a href="/demo/astro-boilerplate/posts/2/">
        Older Posts â†’
      </a>
    </div>
  </div>
</AppLayout>
